<div class="container-scroller">
  <div class="container-fluid page-body-wrapper full-page-wrapper">
    <div class="content-wrapper d-flex align-items-center auth px-0">
      <div class="row w-100 mx-0">
        <div class="col-lg-4 mx-auto">
          <div class="auth-form-light py-5 px-4 px-sm-5">
            <div class="brand-logo text-center">
              <%= image_tag "logo.png", class:"mr-2", alt:"logo" %>
            </div>
            <h4>Hello Admin! let's get started</h4>
            <h6 class="font-weight-light">Sign in to continue.</h6>
            <% flash.each do |key, value| %>
              <%= content_tag :div, value, class: "alert alert-danger alert-dismissible fade show" %>
            <% end %>
            
            <%= form_with(url: '/create_session', class: "pt-3", id: "loginForm") do |f| %>
              <div class="form-group">
                <input placeholder="Email ID" autofocus="autofocus" class="form-control form-control-lg login-input" autocomplete="email" type="email" value="" name="user[email]" id="user_email">
              </div>
              <div class="form-group">
                <input class="form-control form-control-lg login-input" placeholder="Password" autocomplete="current-password" type="password" name="user[password]" id="user_password">
                <span toggle="#user_password" class="ti ti-lock field-icon toggle-password"></span>
              </div>
              <div class="my-2 d-flex justify-content-between align-items-right">
                <!-- <div class="form-check">
                  <label class="form-check-label text-muted">
                    <input type="checkbox" class="form-check-input">
                    Keep me signed in
                  </label>
                </div> -->
                <a href="/forgot_password" class="auth-link text-black">Forgot password?</a>
              </div>
              <div class="mt-3">
                <input type="submit" class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn" name="commit" id="loginSubmit" value="SIGN IN" data-disable-with="Log in">
              </div>
              <!-- <div class="text-center mt-4 font-weight-light">
                Don't have an account? <a href="register.html" class="text-primary">Create</a>
              </div> -->
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<style>
#loginForm label.error {
  color: red;
}
#loginForm .login-input {
  padding-left: 15px;
  padding-right: 15px;
}
#loginForm .field-icon {
  float: right;
  right: 10px;
  margin-top: -35px;
  position: relative;
  z-index: 2;
  cursor: pointer;
}
</style>
<script type="text/javascript">
$(document).ready( function() {
  $("form#loginForm").validate({
    rules: {
      'user[email]': {
        required: true,
        email: true
      },
      'user[password]': 'required'
    },
    errorPlacement: function (error, element) {
      error.insertAfter(element);
    }
  });

  $("#loginSubmit").on("click", function() {
    if($('form#loginForm').valid()) {
      return true;
    } else {
      return false;
    }
  });
  $(".toggle-password").on("click", function() {
    $(this).toggleClass("ti-lock ti-unlock");
    var input = $($(this).attr("toggle"));
    if (input.attr("type") == "password") {
      input.attr("type", "text");
    } else {
      input.attr("type", "password");
    }
  });
});
</script>