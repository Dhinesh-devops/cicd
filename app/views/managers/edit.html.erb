<div class="main-panel">
  <div class="content-wrapper">
    <!-- content start -->
    <div class="row">
      <div class="col-md-12 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <div class="row" style="margin-bottom: 20px;">
              <div class="col-md-6"><p class="card-title">Edit Manager</p></div>
              <div class="col-md-6"><%= button_to "Back to Users List", managers_path,
              :class => "btn btn-primary float-right", :method => :get %></div>
            </div>
            <% flash.each do |key, value| %>
              <% alert_class = (key == "notice") ? 'alert-success' : 'alert-danger' %>
              <%= content_tag :div, value, class: "alert #{alert_class} alert-dismissible fade show" %>
            <% end %>
            <%= form_with(url: '/managers/' + @manager.id.to_s, method: :patch, class: "form-group", id:"userManageForm", local: true) do |form| %>
              <%= form.hidden_field :id, value: @manager.id %>
              <div class="form-group">
                <label for="exampleInputName1">First Name</label>
                <%= form.text_field :first_name, class: "form-control form-control-sm col-md-6", placeholder: "First Name", autocomplete: "off", value: @manager.first_name  %>
              </div>
              <div class="form-group">
                <label for="exampleInputName1">Last Name</label>
                <%= form.text_field :last_name, class: "form-control form-control-sm col-md-6", placeholder: "Last Name", autocomplete: "off", value: @manager.last_name  %>
              </div>
              <div class="form-group">
                <label for="exampleInputEmail3">Email ID</label>
                <%= form.email_field :email, class: "form-control form-control-sm col-md-6", placeholder: "Email ID", autocomplete: "off", value: @manager.email, disabled: true  %>
              </div>
              <button type="submit" id="userManageSubmit" class="btn btn-primary mr-2">Submit</button>
              <%= link_to "Cancel", managers_path, :class => "btn btn-light" %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<style>
.error {
  color: red !important;
}
</style>
<script type="text/javascript">
$(document).ready( function() {
  $("form#userManageForm").validate({
    rules: {
      'first_name': 'required',
      'last_name': 'required',
      'email': {
        required: true,
        email: true
      }
    },
    errorPlacement: function (error, element) {
      error.insertAfter(element);
    }
  });

  $("#userManageSubmit").on("click", function() {
    if($('form#userManageForm').valid()) {
      return true;
    } else {
      return false;
    }
  });
});
</script>